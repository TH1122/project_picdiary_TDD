{"ast":null,"code":"import _slicedToArray from\"/Users/taehyungkim/Desktop/self-study/project_picdiary_deploy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import MenuBar from\"./components/MenuBar\";import Home from\"./components/Home\";import Add from\"./components/Add\";import List from\"./components/List\";import AddByDate from\"./components/AddByDate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),picData=_useState2[0],setPicData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),rawCategoryData=_useState6[0],setRawCategoryData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),categories=_useState8[0],setCategories=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isChanged=_useState10[0],setIsChanged=_useState10[1];useEffect(function(){fetch(\"http://localhost:3001/diary/\").then(function(res){if(!res.ok){throw Error(\"could not fetch the data for that resource\");}return res.json();}).then(function(data){setIsPending(false);setPicData(data);});},[isPending,isChanged]);useEffect(function(){fetch(\"http://localhost:3001/categories/\").then(function(res){if(!res.ok){throw Error(\"could not fetch the data for that resource\");}return res.json();}).then(function(data){setRawCategoryData(data);setCategories(data.map(function(el){return el.category;}));});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"safeBox\"}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(MenuBar,{}),/*#__PURE__*/_jsx(\"section\",{className:\"main\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:!isPending&&/*#__PURE__*/_jsx(Home,{picData:picData,rawCategoryData:rawCategoryData,setRawCategoryData:setRawCategoryData,categories:categories,setCategories:setCategories})}),/*#__PURE__*/_jsx(Route,{path:\"/list\",element:/*#__PURE__*/_jsx(List,{picData:picData})}),/*#__PURE__*/_jsx(Route,{path:\"/add\",element:/*#__PURE__*/_jsx(Add,{picData:picData,setPicData:setPicData})}),/*#__PURE__*/_jsx(Route,{path:\"/add/:date\",element:/*#__PURE__*/_jsx(AddByDate,{picData:picData,setPicData:setPicData,setIsPending:setIsPending,rawCategoryData:rawCategoryData,setRawCategoryData:setRawCategoryData,categories:categories,setCategories:setCategories,isChanged:isChanged,setIsChanged:setIsChanged})})]})})]})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","MenuBar","Home","Add","List","AddByDate","App","picData","setPicData","isPending","setIsPending","rawCategoryData","setRawCategoryData","categories","setCategories","isChanged","setIsChanged","fetch","then","res","ok","Error","json","data","map","el","category"],"sources":["/Users/taehyungkim/Desktop/self-study/project_picdiary_deploy/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\nimport MenuBar from \"./components/MenuBar\";\nimport Home from \"./components/Home\";\nimport Add from \"./components/Add\";\nimport List from \"./components/List\";\nimport AddByDate from \"./components/AddByDate\";\n\nfunction App() {\n  const [picData, setPicData] = useState([]);\n  const [isPending, setIsPending] = useState(true);\n  const [rawCategoryData, setRawCategoryData] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [isChanged, setIsChanged] = useState(false);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/diary/\")\n      .then((res) => {\n        if (!res.ok) {\n          throw Error(\"could not fetch the data for that resource\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setIsPending(false);\n        setPicData(data);\n      });\n  }, [isPending, isChanged]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/categories/\")\n      .then((res) => {\n        if (!res.ok) {\n          throw Error(\"could not fetch the data for that resource\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setRawCategoryData(data);\n        setCategories(data.map((el) => el.category));\n      });\n  }, []);\n\n  return (\n    <>\n      <BrowserRouter>\n        <div className=\"App\">\n          <div className=\"safeBox\"></div>\n          <main>\n            <MenuBar />\n            <section className=\"main\">\n              <Routes>\n                <Route\n                  path=\"/\"\n                  element={\n                    !isPending && (\n                      <Home\n                        picData={picData}\n                        rawCategoryData={rawCategoryData}\n                        setRawCategoryData={setRawCategoryData}\n                        categories={categories}\n                        setCategories={setCategories}\n                      />\n                    )\n                  }\n                />\n                <Route path=\"/list\" element={<List picData={picData} />} />\n                <Route\n                  path=\"/add\"\n                  element={<Add picData={picData} setPicData={setPicData} />}\n                />\n                <Route\n                  path=\"/add/:date\"\n                  element={\n                    <AddByDate\n                      picData={picData}\n                      setPicData={setPicData}\n                      setIsPending={setIsPending}\n                      rawCategoryData={rawCategoryData}\n                      setRawCategoryData={setRawCategoryData}\n                      categories={categories}\n                      setCategories={setCategories}\n                      isChanged={isChanged}\n                      setIsChanged={setIsChanged}\n                    />\n                  }\n                />\n              </Routes>\n            </section>\n          </main>\n        </div>\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}