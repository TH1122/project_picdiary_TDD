{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/taehyungkim/Desktop/self-study/project_picdiary_deploy/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/taehyungkim/Desktop/self-study/project_picdiary_deploy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import React,{useState,useEffect}from\"react\";import PicCategory from\"./PicCategory\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(_ref){var picData=_ref.picData,rawCategoryData=_ref.rawCategoryData,categories=_ref.categories,setRawCategoryData=_ref.setRawCategoryData,setCategories=_ref.setCategories;// const [rawCategoryData, setRawCategoryData] = useState([]);\n// const [categories, setCategories] = useState([]);\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),categoryData=_useState2[0],setCategoryData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSetting=_useState4[0],setIsSetting=_useState4[1];// useEffect(() => {\n//   fetch(\"http://localhost:3001/categories/\")\n//     .then((res) => {\n//       if (!res.ok) {\n//         throw Error(\"could not fetch the data for that resource\");\n//       }\n//       return res.json();\n//     })\n//     .then((data) => {\n//       setRawCategoryData(data);\n//       setCategories(data.map((el) => el.category));\n//     });\n// }, []);\n// useEffect(() => {\n//   //카테고리데이터가 배열일 경우\n//   categories.forEach((el) => {\n//     categoryData.push([el, []]);\n//   });\n//   setCategoryData(categoryData);\n// }, [categories]);\n// useEffect(() => {\n//   // 카테고리데이터가 배열일 경우\n//   picData.forEach((el) => {\n//     el.content.forEach((content) => {\n//       if (categories.includes(content.category)) {\n//         categoryData[categories.indexOf(content.category)][1].push({\n//           date: el.date,\n//           picture: content.picture,\n//           text: content.text,\n//           title: el.title,\n//         });\n//       }\n//     });\n//   });\n//   setCategoryData(categoryData);\n// }, [categories]);\nuseEffect(function(){//카테고리데이터가 객체일 경우\ncategories.forEach(function(el){categoryData[el]=[];});setCategoryData(categoryData);},[categories]);useEffect(function(){// 카테고리데이터가 객체일 경우\npicData.forEach(function(el){el.content.forEach(function(content){if(categories.includes(content.category)){categoryData[content.category].push({date:el.date,picture:content.picture,text:content.text,title:el.title});}});});setCategoryData(categoryData);},[categories]);var SettingContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-end;\\n    margin: 10px;\\n  \"])));var CategoryContainer=styled.section(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n  \"])));var onSet=function onSet(){setIsSetting(!isSetting);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SettingContainer,{children:/*#__PURE__*/_jsx(\"button\",{onClick:onSet,children:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC124\\uC815\"})}),/*#__PURE__*/_jsx(CategoryContainer,{children:categories.map(function(el,idx){return/*#__PURE__*/_jsx(PicCategory,{categoryData:categoryData,category:el},idx);})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","PicCategory","styled","Home","picData","rawCategoryData","categories","setRawCategoryData","setCategories","categoryData","setCategoryData","isSetting","setIsSetting","forEach","el","content","includes","category","push","date","picture","text","title","SettingContainer","div","CategoryContainer","section","onSet","map","idx"],"sources":["/Users/taehyungkim/Desktop/self-study/project_picdiary_deploy/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PicCategory from \"./PicCategory\";\nimport styled from \"styled-components\";\n\nconst Home = ({\n  picData,\n  rawCategoryData,\n  categories,\n  setRawCategoryData,\n  setCategories,\n}) => {\n  // const [rawCategoryData, setRawCategoryData] = useState([]);\n  // const [categories, setCategories] = useState([]);\n  const [categoryData, setCategoryData] = useState({});\n  const [isSetting, setIsSetting] = useState(false);\n  // useEffect(() => {\n  //   fetch(\"http://localhost:3001/categories/\")\n  //     .then((res) => {\n  //       if (!res.ok) {\n  //         throw Error(\"could not fetch the data for that resource\");\n  //       }\n  //       return res.json();\n  //     })\n  //     .then((data) => {\n  //       setRawCategoryData(data);\n  //       setCategories(data.map((el) => el.category));\n  //     });\n  // }, []);\n\n  // useEffect(() => {\n  //   //카테고리데이터가 배열일 경우\n  //   categories.forEach((el) => {\n  //     categoryData.push([el, []]);\n  //   });\n  //   setCategoryData(categoryData);\n  // }, [categories]);\n\n  // useEffect(() => {\n  //   // 카테고리데이터가 배열일 경우\n  //   picData.forEach((el) => {\n  //     el.content.forEach((content) => {\n  //       if (categories.includes(content.category)) {\n  //         categoryData[categories.indexOf(content.category)][1].push({\n  //           date: el.date,\n  //           picture: content.picture,\n  //           text: content.text,\n  //           title: el.title,\n  //         });\n  //       }\n  //     });\n  //   });\n  //   setCategoryData(categoryData);\n  // }, [categories]);\n\n  useEffect(() => {\n    //카테고리데이터가 객체일 경우\n    categories.forEach((el) => {\n      categoryData[el] = [];\n    });\n    setCategoryData(categoryData);\n  }, [categories]);\n\n  useEffect(() => {\n    // 카테고리데이터가 객체일 경우\n    picData.forEach((el) => {\n      el.content.forEach((content) => {\n        if (categories.includes(content.category)) {\n          categoryData[content.category].push({\n            date: el.date,\n            picture: content.picture,\n            text: content.text,\n            title: el.title,\n          });\n        }\n      });\n    });\n    setCategoryData(categoryData);\n  }, [categories]);\n\n  const SettingContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    margin: 10px;\n  `;\n\n  const CategoryContainer = styled.section`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  `;\n\n  const onSet = () => {\n    setIsSetting(!isSetting);\n  };\n  return (\n    <>\n      <SettingContainer>\n        <button onClick={onSet}>카테고리 설정</button>\n      </SettingContainer>\n      <CategoryContainer>\n        {categories.map((el, idx) => {\n          return (\n            <PicCategory key={idx} categoryData={categoryData} category={el} />\n          );\n        })}\n      </CategoryContainer>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"2VAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,MAMP,IALJC,QAKI,MALJA,OAKI,CAJJC,eAII,MAJJA,eAII,CAHJC,UAGI,MAHJA,UAGI,CAFJC,kBAEI,MAFJA,kBAEI,CADJC,aACI,MADJA,aACI,CACJ;AACA;AACA,cAAwCT,QAAQ,CAAC,EAAD,CAAhD,wCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAkCX,QAAQ,CAAC,KAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAZ,SAAS,CAAC,UAAM,CACd;AACAM,UAAU,CAACO,OAAX,CAAmB,SAACC,EAAD,CAAQ,CACzBL,YAAY,CAACK,EAAD,CAAZ,CAAmB,EAAnB,CACD,CAFD,EAGAJ,eAAe,CAACD,YAAD,CAAf,CACD,CANQ,CAMN,CAACH,UAAD,CANM,CAAT,CAQAN,SAAS,CAAC,UAAM,CACd;AACAI,OAAO,CAACS,OAAR,CAAgB,SAACC,EAAD,CAAQ,CACtBA,EAAE,CAACC,OAAH,CAAWF,OAAX,CAAmB,SAACE,OAAD,CAAa,CAC9B,GAAIT,UAAU,CAACU,QAAX,CAAoBD,OAAO,CAACE,QAA5B,CAAJ,CAA2C,CACzCR,YAAY,CAACM,OAAO,CAACE,QAAT,CAAZ,CAA+BC,IAA/B,CAAoC,CAClCC,IAAI,CAAEL,EAAE,CAACK,IADyB,CAElCC,OAAO,CAAEL,OAAO,CAACK,OAFiB,CAGlCC,IAAI,CAAEN,OAAO,CAACM,IAHoB,CAIlCC,KAAK,CAAER,EAAE,CAACQ,KAJwB,CAApC,EAMD,CACF,CATD,EAUD,CAXD,EAYAZ,eAAe,CAACD,YAAD,CAAf,CACD,CAfQ,CAeN,CAACH,UAAD,CAfM,CAAT,CAiBA,GAAMiB,iBAAgB,CAAGrB,MAAM,CAACsB,GAAV,qKAAtB,CAOA,GAAMC,kBAAiB,CAAGvB,MAAM,CAACwB,OAAV,gLAAvB,CAOA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClBf,YAAY,CAAC,CAACD,SAAF,CAAZ,CACD,CAFD,CAGA,mBACE,wCACE,KAAC,gBAAD,wBACE,eAAQ,OAAO,CAAEgB,KAAjB,mDADF,EADF,cAIE,KAAC,iBAAD,WACGrB,UAAU,CAACsB,GAAX,CAAe,SAACd,EAAD,CAAKe,GAAL,CAAa,CAC3B,mBACE,KAAC,WAAD,EAAuB,YAAY,CAAEpB,YAArC,CAAmD,QAAQ,CAAEK,EAA7D,EAAkBe,GAAlB,CADF,CAGD,CAJA,CADH,EAJF,GADF,CAcD,CA1GD,CA4GA,cAAe1B,KAAf"},"metadata":{},"sourceType":"module"}